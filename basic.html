<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COVID TRACKER</title>
    <link rel="shortcut icon" href="./assets/images/favicon.png" type="image/png">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;600;700;900&display=swap" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <!-- CSS -->
    <link rel="stylesheet" href="./assets/css/app1.css">
    <link rel="stylesheet" href="./assets/css/grid.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/>
   
</head>
<body>

     <!-- top nav -->
     <div class="nav-wrapper">
        <div class="container">
            <div class="nav">
                <a href="" class="logo">
                    C<!--<i class="bx bxs-virus-block bx-tada"></i>---><img src="./assets/images/favicon.png" width="10%;">VID TRACKER
                </a>
                
            </div>
        </div>
    </div>
    <!-- end top nav -->
    <!-- main content -->
    <div class="content">
        <div class="container">
            <!-- country select -->
            <div class="row">
                <div class="col-3 col-md-6 col-sm-12">
                    <div class="box">
                        <div class="country-select" id="country-select">
                            <div class="country-select-toggle" id="country-select-toggle">
                                <span>
                                    INDIA
                                </span>
                                
                            </div>
                           
                        </div>
                    </div>
                </div>
            </div>
            <!-- end country select -->

            <!-- tracking information -->
            <div class="row">
                <!-- left content -->
                <div class="col-8 col-md-12 col-sm-12">
                    <div class="row">
                        <!-- counter -->
                        <div class="col-4 col-md-4 col-sm-12">
                            <div class="box box-hover">
                                <div class="count count-confirmed">
                                    <div class="count-icon">
                                        <i class="bx bxs-virus"></i>
                                    </div>
                                    <div class="count-info">
                                        <h5 id="confirmed-total"></h5>
                                        <span>confirmed</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- counter -->
                        <!-- counter -->
                        <div class="col-4 col-md-4 col-sm-12">
                            <div class="box box-hover">
                                <div class="count count-recovered">
                                    <div class="count-icon">
                                        <i class="bx bxs-smile"></i>
                                    </div>
                                    <div class="count-info">
                                        <h5 id="recovered-total"></h5>
                                        <span>recovered</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- counter -->
                        <!-- counter -->
                        <div class="col-4 col-md-4 col-sm-12">
                            <div class="box box-hover">
                                <div class="count count-death">
                                    <div class="count-icon">
                                        <i class="bx bxs-sad"></i>
                                    </div>
                                    <div class="count-info">
                                        <h5 id="death-total"></h5>
                                        <span>deaths</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- counter -->

                         <!-- all time chart -->
                     <div class="col-12">
                        <div class="box">
                            <div class="box-header">
                                India Covid-19 Stats
                            </div>
                            <div class="box-body">
                                <div>
                                    <canvas id="canvas"></canvas>
                                  </div>
                            </div>
                        </div>
                    </div>
                    <!-- end all time chart -->
                        
                       <!-- all time chart -->
                       <div class="col-12">
                        <div class="box">
                            <div class="box-header">
                                India Covid-19 Dashboard
                            </div>
                            <div class="box-body">
                                
                                <table class="table" id="tbval" style="width:95%; margin:0 auto;">
                                    <thead>
                                      <tr>
                                          <th scope="col" style="width:40%; text-align:left;">States</th>
                                          <th scope="col" style="text-align: left;">Confirmed</th>
                                          <th scope="col" style="text-align: left;">Recovered</th>
                                          <th scope="col" style="text-align: left;">Deaths</th>
                                          
                                        </tr>
                                      </thead>
                                      <tbody id="stats" class="td text-center">
                                        <tr>
                                          <td></td>
                                          <td></td>
                                          <td></td>
                                          <td></td>
                                          <td></td>
                                        </tr>
                                      </tbody>
                                    </table>

                            </div>
                        </div>
                    </div>
                    <!-- end all time chart -->
                    
                    </div>
                </div>
                <!-- end left content -->

                <!-- right content -->
                <div class="col-4 col-md-12 col-sm-12">
                    
                    <!-- recovery rate chart -->
                    <div class="box">
                        <div class="box-header">
                            recovery rate
                        </div>
                        <div class="box-body">
                           
                           <div class="progress">
                            <div class="progress-done" id="recover" data-done="94.5">
                               
                            </div>
                        </div>
                        </div>
                    </div>
                    <!-- end recovery rate chart -->

                    <!-- 30 days chart -->
                    <div class="box">
                        <div class="box-header">
                            what is covid-19
                        </div>
                        <div class="box-body">
                            <iframe width="100%" height="315" src="https://www.youtube.com/embed/OZcRD9fV7jo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>
                    </div>
                    <!-- end 30 days chart -->

                    <!-- top country affected -->
                    <div class="box">
                        <div class="box-header">
                            Use Healthy Practices to Protect Yourself
                        </div>
                        <div class="box-body">
                            <div class="container1">
                            <div class="card">
                                <div class="content">
                                    <div class="imgBx">
                                        <img src="./assets/images/washhands.png" alt="">
                                    </div>
                                    <div class="contentBx">
                                
                                        <p>Wash your hands often with soap and water for at least 20 seconds, especially after being in a public place, or after blowing your nose, coughing or sneezing. If soap and water are not readily available, use a hand sanitizer with at least 60% alcohol.</p>
                                    </div>
                                    
                                </div>
                            </div>
                            </div>

                            <div class="container1">
                                <div class="card">
                                    <div class="content">
                                        <div class="imgBx">
                                            <img src="./assets/images/facemask.png" alt="">
                                        </div>
                                        <div class="contentBx">
                                    
                                            <p>Wear a cloth face covering to cover your mouth and nose when around others and when you must go out in public. The cloth face cover is meant to protect other people in case you are infected.</p>
                                        </div>
                                        
                                    </div>
                                </div>
                                </div>

                                <div class="container1">
                                    <div class="card">
                                        <div class="content">
                                            <div class="imgBx">
                                                <img src="./assets/images/socialdistance.png" alt="">
                                            </div>
                                            <div class="contentBx">
                                        
                                                <p>Avoid close contact with people who are sick, and practice social distancing by keeping at least 6 feet away from others if you must go out in public.</p>
                                            </div>
                                            
                                        </div>
                                    </div>
                                    </div>


                        </div>
                    </div>
                    <!-- end top country affected -->
                </div>
                <!-- end right content -->
            </div>
            <!-- end tracking information -->
        </div>
    </div>
    <!-- end main content -->
     <!-- footer -->
     <div class="footer">
        
        Designed by <a href="https://www.linkedin.com/in/abhinav-verma-24a579195/" target="_blank">Abhinav Verma</a>
        <div class="sci">
            <a href="https://www.github.com/abhinav2612"><i class="fa fa-github" aria-hidden="true"></i></a>&nbsp;&nbsp;
            <a href="https://www.linkedin.com/in/abhinav-verma-24a579195/"><i class="fa fa-linkedin" aria-hidden="true"></i></a>&nbsp;&nbsp;
            <a href="https://twitter.com/Abhinav27557278"><i class="fa fa-twitter" aria-hidden="true"></i></a>&nbsp;&nbsp;
        </div>
    </div>
    <!-- end footer -->
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js@3.3.0/dist/chart.min.js"></script>
   
    <script>
            $(document).ready(function(){
              var url = "https://api.track-covid19.in/reports_v2.json"
              $.getJSON(url, function(data){
				console.log(data)
                console.log(data.states.AN.confirmed)

                var names = []
                var confirmed = []
                var recovered = []
                var deaths = []
                $.each(data.states,function(id,obj){
                    names.push(obj.name)
                    confirmed.push(obj.confirmed)
                    recovered.push(obj.recovered)
                    deaths.push(obj.dead)
                })
               
                names.shift()
                confirmed.shift()
                recovered.shift()
                deaths.shift()
                names.shift()
                console.log(names)
				console.log(confirmed)


                var ctx = document.getElementById('canvas').getContext('2d');
   var myChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: names,
        datasets: [
          {
            label: 'Confirmed Cases',
            data: confirmed,
            backgroundColor: 'transparent',
            borderColor: 'yellow',
            borderWidth: 2
        },
        {
            label: 'Recovered Cases',
            data: recovered,
            backgroundColor: 'transparent',
            borderColor: 'green',
            borderWidth: 2
        },
        {
            label: 'Deaths',
            data: deaths,
            backgroundColor: 'transparent',
            borderColor: 'red',
            borderWidth: 2
        },
      ]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});


                var state,total_active, total_recovered, total_deaths, total_confirmed, confirmed_total, recovered_total, death_total 
                var value;
                confirmed_total=data.confirmed
                recovered_total=data.recovered
                death_total=data.dead
                
                value=(recovered_total/confirmed_total)*100;
                console.log(value);

                var x = parseFloat(value).toFixed( 2 );
                const progress = document.querySelector('.progress-done');

                progress.style.width = progress.getAttribute('data-done') + '%';
                progress.style.opacity = 1;
                document.getElementById("recover").innerHTML = x; 
                


                $("#confirmed-total").append(confirmed_total)
                $("#recovered-total").append(recovered_total)
                $("#death-total").append(death_total)
console.log(names[6])
console.log(confirmed[7])
console.log(recovered[7])
console.log(deaths[7])

                for(var i=1;i<35;i++){

                state=names[i];
                total_recovered=recovered[i+1];
                total_deaths=deaths[i+1];
                total_confirmed=confirmed[i+1];
				console.log(state + " " + total_confirmed)

                // $("#state").append(state)
                // $("#active").append(total_active)
                // $("#recovered").append(total_recovered)
                // $("#deaths").append(total_deaths)
                // $("#confirmed").append(total_confirmed)

                $("#stats").append("<tr>"+
                  
                  "<td>"+state+"</td>"+
                  "<td>"+total_confirmed+"</td>"+
                  "<td>"+total_recovered+"</td>"+
                  "<td>"+total_deaths+"</td>"
                  
                  +"</tr>"
                  )

                }
              })
            })
      
    </script>
    
   
</body>
</html>